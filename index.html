<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Favicon -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="icon" href="/favicon-32x32.png" sizes="32x32" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180" />

  <!-- Podstawowe meta (nadpisywane przez JS) -->
  <title>ForgeMotion Systems</title>
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta name="author" content="" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="" />

  <!-- Open Graph -->
  <meta property="og:title" content="" />
  <meta property="og:description" content="" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="" />
  <meta property="og:image" content="" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:image" content="" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    html { scroll-padding-top: 90px; }

    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 1s forwards;
    }
    @keyframes fadeInUp {
      to { opacity: 1; transform: translateY(0); }
    }

    .bg-wrap {
      position: relative;
      background-color: #0b1220;
      background-image: url('/images/hero-forge.png');
      background-repeat: no-repeat;
      background-position: left top;
      background-size: contain;
      overflow: hidden;
    }

    .bg-wrap::before {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background: linear-gradient(
        to bottom,
        rgba(6,10,18,0.08) 0%,
        rgba(6,10,18,0.26) 40%,
        rgba(6,10,18,0.62) 100%
      );
      z-index: 0;
    }

    .bg-wrap::after {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background: radial-gradient(
        circle at 50% 100%,
        rgba(6,10,18,0.58),
        rgba(6,10,18,0.0) 55%
      );
      z-index: 0;
    }

    .bg-inner { position: relative; z-index: 1; }

    @media (max-width: 768px) {
      .bg-wrap { background-size: 145% auto; background-position: left 18%; }
      .bg-wrap::before {
        background: linear-gradient(
          to bottom,
          rgba(6,10,18,0.04) 0%,
          rgba(6,10,18,0.18) 40%,
          rgba(6,10,18,0.52) 100%
        );
      }
      .bg-wrap::after {
        background: radial-gradient(
          circle at 50% 100%,
          rgba(6,10,18,0.46),
          rgba(6,10,18,0.0) 60%
        );
      }
    }

    @media (min-width: 1024px) {
      .bg-wrap { background-size: contain; background-position: left 6%; }
    }

    @media (min-width: 1024px) and (max-height: 820px) {
      .bg-wrap { background-position: left 10%; }
    }

    .hero-panel {
      position: absolute;
      left: 0; right: 0;
      margin-left: auto; margin-right: auto;
      width: min(980px, calc(100% - 2rem));
    }

    @media (min-width: 1024px) { .hero-panel { top: 62vh; } }
    @media (max-width: 768px) { .hero-panel { top: 56vh; } }

    /* ====== Równy wygląd kafelków + identyczna wysokość zdjęć ====== */
    .product-card {
      background: rgba(31, 41, 55, 0.9);
      border-radius: 0.75rem;
      padding: 1rem;
      text-align: center;
      transition: transform 0.25s ease;
      backdrop-filter: blur(1px);
      border: 1px solid rgba(255,255,255,0.05);
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    .product-card:hover { transform: scale(1.05); }

    .product-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }
    .product-desc {
      color: rgba(255,255,255,0.9);
      margin-bottom: 0.75rem;
      flex-grow: 1;
    }

    .product-image {
      width: 100%;
      height: 190px;
      overflow: hidden;
      border-radius: 0.5rem;
      background: rgba(0,0,0,0.18);
    }
    .product-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      cursor: zoom-in;
      transform: scale(1.01);
      transition: transform 0.25s ease;
      display: block;
    }
    .product-card:hover .product-image img { transform: scale(1.05); }

    /* ====== Modal (klik → duże zdjęcie) ====== */
    .modal-hidden { display: none; }
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.72);
      z-index: 50;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }
    .modal-panel {
      width: min(1100px, 96vw);
      max-height: 90vh;
      background: rgba(17, 24, 39, 0.96);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 1rem;
      overflow: hidden;
      box-shadow: 0 20px 70px rgba(0,0,0,0.5);
      position: relative;
    }
    .modal-close {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(255,255,255,0.12);
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 999px;
      width: 40px;
      height: 40px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    .modal-close:hover { background: rgba(255,255,255,0.18); }
    .modal-img-wrap { padding: 0.75rem; }
    .modal-img {
      width: 100%;
      height: auto;
      max-height: calc(90vh - 1.5rem);
      object-fit: contain;
      border-radius: 0.75rem;
      display: block;
    }
    .modal-hint {
      padding: 0 0.95rem 0.95rem 0.95rem;
      color: rgba(255,255,255,0.75);
      font-size: 0.95rem;
      text-align: center;
    }
    .sr-only {
      position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
      overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
    }
  </style>
</head>

<body class="bg-gray-900 text-white font-sans">

<header class="bg-gray-800/90 backdrop-blur border-b border-white/5 fixed w-full z-10 shadow-md">
  <div class="container mx-auto px-4 py-3 flex items-center justify-between gap-4">
    <a href="#hero" class="flex items-center" aria-label="Go to home section">
      <img
        src="/logo.png"
        alt="ForgeMotion Systems logo"
        class="w-auto object-contain shrink-0 h-[clamp(34px,4.5vw,64px)]"
        loading="eager"
      />
    </a>

    <div class="hidden md:flex items-center gap-8">
      <nav aria-label="Primary navigation">
        <ul class="flex items-center gap-8">
          <li><a href="#hero" class="hover:text-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/60 rounded px-1" data-en="Home" data-pl="Strona główna"></a></li>
          <li><a href="#products" class="hover:text-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/60 rounded px-1" data-en="Products" data-pl="Produkty"></a></li>
          <li><a href="#about" class="hover:text-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/60 rounded px-1" data-en="About" data-pl="O nas"></a></li>
          <li><a href="#contact" class="hover:text-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/60 rounded px-1" data-en="Contact" data-pl="Kontakt"></a></li>
        </ul>
      </nav>

      <div class="flex items-center gap-2 text-sm">
        <button type="button" data-lang="en" class="hover:text-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/60 rounded px-1">EN</button>
        <span class="text-gray-400">|</span>
        <button type="button" data-lang="pl" class="hover:text-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/60 rounded px-1">PL</button>
      </div>
    </div>

    <div class="flex md:hidden items-center gap-3">
      <div class="flex items-center gap-2 text-sm">
        <button type="button" data-lang="en" class="hover:text-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/60 rounded px-1">EN</button>
        <span class="text-gray-400">|</span>
        <button type="button" data-lang="pl" class="hover:text-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/60 rounded px-1">PL</button>
      </div>

      <button
        id="mobileMenuBtn"
        type="button"
        class="inline-flex items-center justify-center rounded p-2 hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-blue-400/60"
        aria-controls="mobileMenu"
        aria-expanded="false"
        aria-label="Open menu"
      >
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
    </div>
  </div>

  <div id="mobileMenu" class="md:hidden hidden border-t border-white/5 bg-gray-800/95 backdrop-blur">
    <nav class="container mx-auto px-4 py-3" aria-label="Mobile navigation">
      <ul class="flex flex-col gap-2">
        <li><a href="#hero" class="mobile-link block rounded px-3 py-2 hover:bg-white/10 hover:text-blue-400" data-en="Home" data-pl="Strona główna"></a></li>
        <li><a href="#products" class="mobile-link block rounded px-3 py-2 hover:bg-white/10 hover:text-blue-400" data-en="Products" data-pl="Produkty"></a></li>
        <li><a href="#about" class="mobile-link block rounded px-3 py-2 hover:bg-white/10 hover:text-blue-400" data-en="About" data-pl="O nas"></a></li>
        <li><a href="#contact" class="mobile-link block rounded px-3 py-2 hover:bg-white/10 hover:text-blue-400" data-en="Contact" data-pl="Kontakt"></a></li>
      </ul>
    </nav>
  </div>
</header>

<div class="bg-wrap">
  <div class="bg-inner">

    <section id="hero"
      class="fade-in relative min-h-[100vh] lg:min-h-[110vh] p-4 pt-24 md:pt-28">

      <div class="hero-panel">
        <div class="rounded-2xl px-4 md:px-6 py-6 md:py-7 bg-black/20 backdrop-blur-[2px]">
          <h1 class="text-4xl md:text-6xl font-bold mb-4 drop-shadow-[0_2px_24px_rgba(0,0,0,0.55)]"
              data-en="Precision Motion Systems for Racing & Flight Simulators"
              data-pl="Precyzyjne systemy motion do symulatorów wyścigowych i lotniczych"></h1>

          <p class="text-lg md:text-2xl mb-6 text-white/90 drop-shadow-[0_2px_18px_rgba(0,0,0,0.55)]"
             data-en="Professional 6DOF, 3DOF, and 2DOF motion platforms, seat belt tensioners, and ejection seat replicas to bring realism and precision to your simulations."
             data-pl="Profesjonalne platformy motion 6DOF, 3DOF i 2DOF, napinacze pasów oraz repliki foteli katapultowych zapewniające realizm i precyzję w Twoich symulacjach."></p>

          <a href="#products" class="inline-block bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded font-semibold">
            <span data-en="View products" data-pl="Zobacz produkty"></span>
          </a>
        </div>
      </div>
    </section>

    <section id="products" class="py-16 px-4">
      <div class="container mx-auto">
        <h2 class="text-3xl font-bold mb-8 text-center" data-en="Our Products" data-pl="Nasze Produkty"></h2>

        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">

          <!-- 6DOF: miniatura bez logo + modal z dużą wersją -large (z logo) -->
          <div class="product-card">
            <h3 class="product-title">6DOF Platform</h3>
            <p class="product-desc"
               data-en="A rock-solid 6DOF motion platform built to feel natural and predictable in every movement. Designed as the backbone of serious racing and flight simulator rigs — stable, precise, and ready for long sessions."
               data-pl="Solidna platforma motion 6DOF zaprojektowana tak, by każdy ruch był naturalny i przewidywalny. To mocna baza do zaawansowanych symulatorów wyścigowych i lotniczych — stabilna, precyzyjna i gotowa na długie sesje."></p>

            <div class="product-image">
              <img
                src="/images/rama6dof1.jpg"
                data-full="/images/rama6dof1-large.jpg"
                alt="6DOF motion platform (frame)"
                loading="lazy"
                decoding="async"
              >
            </div>
          </div>

          <!-- 3DOF/2DOF: miniatura bez logo + modal z dużą wersją -large (z logo) -->
          <div class="product-card">
            <h3 class="product-title">3DOF / 2DOF Platform</h3>
            <p class="product-desc"
               data-en="Compact and modular motion systems"
               data-pl="Kompaktowe i modułowe systemy motion"></p>

            <div class="product-image">
              <img
                src="/images/rama3dof1.jpg"
                data-full="/images/rama3dof1-large.jpg"
                alt="3DOF motion platform (frame)"
                loading="lazy"
                decoding="async"
              >
            </div>
          </div>

          <!-- Seat Belt: brak wersji -large na liście, więc modal otworzy ten sam plik -->
          <div class="product-card">
            <h3 class="product-title">Seat Belt Tensioner</h3>
            <p class="product-desc"
               data-en="Realistic braking and acceleration forces through seat belt feedback"
               data-pl="Realistyczne odwzorowanie hamowania i przyspieszenia poprzez napięcie pasów"></p>

            <div class="product-image">
              <img
                src="/images/seatbelt.jpg"
                data-full="/images/seatbelt.jpg"
                alt="Seat belt tensioner for simulator"
                loading="lazy"
                decoding="async"
              >
            </div>
          </div>

          <!-- NOWE FOTO: Ejection Seat Replica -> mk14seat1 + mk14seat1-large -->
          <div class="product-card">
            <h3 class="product-title">Ejection Seat Replica</h3>
            <p class="product-desc"
               data-en="High-fidelity aircraft ejection seat replica for simulators"
               data-pl="Wysokiej jakości replika fotela katapultowego do symulatorów lotniczych"></p>

            <div class="product-image">
              <img
                src="/images/mk14seat1.jpg"
                data-full="/images/mk14seat1-large.jpg"
                alt="Ejection seat replica (MK14)"
                loading="lazy"
                decoding="async"
              >
            </div>
          </div>

        </div>
      </div>
    </section>

  </div>
</div>

<section id="about" class="bg-gray-800 py-16 px-4">
  <div class="container mx-auto text-center">
    <h2 class="text-3xl font-bold mb-6" data-en="About Us" data-pl="O nas"></h2>
    <p class="text-gray-300 max-w-2xl mx-auto"
       data-en="ForgeMotion Systems designs and manufactures professional motion platforms and simulator equipment for the racing and aviation industries. Our solutions enhance realism and precision in training and entertainment simulators."
       data-pl="ForgeMotion Systems projektuje i produkuje profesjonalne platformy motion oraz wyposażenie symulatorów dla branży wyścigowej i lotniczej. Nasze rozwiązania zwiększają realizm i precyzję w symulatorach treningowych i rozrywkowych."></p>
  </div>
</section>

<section id="inspiration" class="px-4 py-16 bg-gray-800 text-center fade-in">
  <h2 class="text-3xl md:text-4xl font-bold text-white mb-6"
      data-en="From TEDx to Motion Platforms"
      data-pl="Od TEDx do technologii motion"></h2>

  <div class="max-w-3xl mx-auto">
    <div class="relative" style="padding-top:56.25%;">
      <iframe class="absolute top-0 left-0 w-full h-full"
              loading="lazy"
              referrerpolicy="strict-origin-when-cross-origin"
              src="https://www.youtube.com/embed/2k_porGEQZI"
              title="Leszek Tejwan – Dream Simulator | TEDxMarszałkowska"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen></iframe>
    </div>

    <p class="text-gray-300 mt-6 mb-4 text-lg md:text-xl"
       data-en="At TEDx, Leszek Tejwan shared his 'Dream Simulator' — a project born from his own dreams. It became a source of inspiration for creating advanced motion platforms that blend excitement, immersion, and precise engineering."
       data-pl="Na TEDx Leszek Tejwan przedstawił swój 'Dream Simulator' — projekt powstały z jego własnych marzeń. Stał się inspiracją do tworzenia zaawansowanych platform motion, które łączą emocje, immersję i precyzyjną inżynierię."></p>

    <p class="text-gray-300 text-lg md:text-xl"
       data-en="This idea inspires ForgeMotion Systems: we design motion platforms that deliver exciting and realistic experiences in racing and flight simulators, making every moment truly engaging."
       data-pl="Ta idea inspiruje ForgeMotion Systems: projektujemy platformy motion, które dostarczają ekscytujących i realistycznych doświadczeń w symulatorach wyścigowych i lotniczych, czyniąc każdą chwilę naprawdę angażującą."></p>
  </div>
</section>

<section id="trust-experience" class="px-4 py-16 bg-gray-800 text-center fade-in">
  <h2 class="text-3xl md:text-4xl font-bold text-white mb-6"
      data-en="Why Trust ForgeMotion Systems?"
      data-pl="Dlaczego warto zaufać ForgeMotion Systems?"></h2>

  <div class="max-w-3xl mx-auto text-left md:text-center">
    <p class="text-gray-300 text-lg md:text-xl mb-6"
       data-en="With real-world aviation experience, Leszek Tejwan brings unmatched insight into the design of motion simulators. His work at LOT Polish Airlines on digital aviation tools inspires every platform we build."
       data-pl="Dzięki doświadczeniu w prawdziwej branży lotniczej, Leszek Tejwan wnosi bezcenną wiedzę przy projektowaniu platform motion. Jego praca w LOT Polish Airlines nad cyfrowymi narzędziami lotniczymi inspiruje każdą platformę, którą tworzymy."></p>

    <ul class="text-gray-300 text-lg md:text-xl list-disc list-inside mb-6">
      <li data-en="Realistic experience: motion platforms designed with real aviation knowledge."
          data-pl="Realistyczne doświadczenie: platformy motion projektowane z uwzględnieniem wiedzy lotniczej."></li>
      <li data-en="Immersive training: inspired by digital tools used by professional pilots."
          data-pl="Immersywne szkolenie: inspirowane cyfrowymi narzędziami używanymi przez profesjonalnych pilotów."></li>
      <li data-en="Precision & reliability: engineering solutions influenced by aviation standards."
          data-pl="Precyzja i niezawodność: rozwiązania inżynieryjne inspirowane standardami lotnictwa."></li>
      <li data-en="Innovation-driven: combining fun, realism, and technology."
          data-pl="Napędzane innowacją: łączymy zabawę, realizm i technologię."></li>
    </ul>

    <p class="text-gray-300 text-lg md:text-xl"
       data-en="This combination of aviation expertise and motion platform innovation ensures every simulation is engaging, educational, and unforgettable."
       data-pl="To połączenie wiedzy lotniczej i innowacji w platformach motion zapewnia, że każda symulacja jest angażująca, edukacyjna i niezapomniana."></p>
  </div>
</section>

<section id="contact" class="container mx-auto py-16 px-4">
  <h2 class="text-3xl font-bold mb-6 text-center" data-en="Contact" data-pl="Kontakt"></h2>
  <p class="text-center text-gray-300 mb-6"
     data-en="Reach out to discuss your simulator project or request a quote. We deliver high-quality motion platforms and simulator equipment tailored to your needs."
     data-pl="Skontaktuj się z nami, aby omówić projekt symulatora lub poprosić o wycenę. Dostarczamy wysokiej jakości platformy motion i wyposażenie symulatorów dostosowane do Twoich potrzeb."></p>
  <form class="max-w-xl mx-auto bg-gray-800 rounded p-6 flex flex-col gap-4">
    <input type="text" placeholder="Name / Imię" class="p-3 rounded bg-gray-700">
    <input type="email" placeholder="Email" class="p-3 rounded bg-gray-700">
    <textarea placeholder="Message / Wiadomość" class="p-3 rounded bg-gray-700"></textarea>
    <button class="bg-blue-500 hover:bg-blue-600 px-6 py-3 rounded font-semibold" data-en="Send message" data-pl="Wyślij wiadomość"></button>
  </form>
</section>

<footer class="bg-gray-900 py-6 text-center text-gray-400">
  © 2025 ForgeMotion Systems
</footer>

<!-- ===== Modal HTML ===== -->
<div id="imgModal" class="modal-hidden" aria-hidden="true">
  <div class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="imgModalTitle">
    <div class="modal-panel">
      <button id="imgModalClose" class="modal-close" type="button" aria-label="Close image">
        <span aria-hidden="true">✕</span>
      </button>
      <h2 id="imgModalTitle" class="sr-only">Image preview</h2>
      <div class="modal-img-wrap">
        <img id="imgModalImg" class="modal-img" src="" alt="">
      </div>
      <div class="modal-hint"
           data-en="Tip: click outside the image or press ESC to close."
           data-pl="Wskazówka: kliknij poza zdjęciem lub naciśnij ESC, aby zamknąć."></div>
    </div>
  </div>
</div>

<script>
  const metaData = {
    en: {
      title: "ForgeMotion Systems – Motion platforms & simulator equipment (6DOF, 3DOF, 2DOF)",
      description: "ForgeMotion Systems designs and manufactures professional 6DOF, 3DOF, and 2DOF motion platforms, seat belt tensioners, ejection seat replicas, and custom frames for racing and flight simulators. Enhance realism and precision of your simulations.",
      keywords: "motion platform, 6DOF, 3DOF, 2DOF, racing simulator, flight simulator, seat belt tensioner, ejection seat replica, custom simulator frames, simulator equipment, ForgeMotion Systems",
      ogTitle: "ForgeMotion Systems – Motion platforms & simulator equipment",
      ogDescription: "Professional 6DOF, 3DOF, 2DOF motion platforms, seat belt tensioners, ejection seat replicas, and custom frames for racing and flight simulators.",
      ogImage: "https://forgemotionsystems.com/images/og-en.jpg",
      twitterTitle: "ForgeMotion Systems – Motion platforms & simulator equipment",
      twitterDescription: "Professional 6DOF, 3DOF, 2DOF motion platforms and simulator accessories, including seat belt tensioners, ejection seat replicas, and custom frames.",
      twitterImage: "https://forgemotionsystems.com/images/twitter-en.jpg",
      canonical: "https://forgemotionsystems.com/en"
    },
    pl: {
      title: "ForgeMotion Systems – Platformy motion i osprzęt do symulatorów (6DOF, 3DOF, 2DOF)",
      description: "ForgeMotion Systems projektuje i produkuje profesjonalne platformy motion 6DOF, 3DOF i 2DOF, napinacze pasów, repliki foteli katapultowych oraz kastomizowane ramy dla symulatorów wyścigowych i lotniczych. Zwiększ realizm i precyzję swoich symulacji.",
      keywords: "platforma motion, 6DOF, 3DOF, 2DOF, symulator wyścigowy, symulator lotniczy, napinacz pasów, replika fotela katapultowego, kastomizowane ramy, osprzęt do symulatorów, ForgeMotion Systems",
      ogTitle: "ForgeMotion Systems – Platformy motion i osprzęt do symulatorów",
      ogDescription: "Profesjonalne platformy motion 6DOF, 3DOF i 2DOF, napinacze pasów, repliki foteli katapultowych i kastomizowane ramy dla symulatorów wyścigowych i lotniczych.",
      ogImage: "https://forgemotionsystems.com/images/og-pl.jpg",
      twitterTitle: "ForgeMotion Systems – Platformy motion i osprzęt do symulatorów",
      twitterDescription: "Profesjonalne platformy motion i osprzęt do symulatorów, w tym napinacze pasów, repliki foteli katapultowych i kastomizowane ramy.",
      twitterImage: "https://forgemotionsystems.com/images/twitter-pl.jpg",
      canonical: "https://forgemotionsystems.com/pl"
    }
  };

  function setMetaTag(key, content, attr = "name") {
    let tag = document.head.querySelector(`meta[${attr}="${key}"]`);
    if (!tag) {
      tag = document.createElement("meta");
      tag.setAttribute(attr, key);
      document.head.appendChild(tag);
    }
    tag.setAttribute("content", content);
  }

  function setCanonical(href) {
    let tag = document.head.querySelector('link[rel="canonical"]');
    if (!tag) {
      tag = document.createElement("link");
      tag.rel = "canonical";
      document.head.appendChild(tag);
    }
    tag.href = href;
  }

  const i18nNodes = Array.from(document.querySelectorAll("[data-en]"));

  function applyTexts(lang) {
    for (const el of i18nNodes) {
      const val = el.dataset[lang];
      if (typeof val === "string") el.textContent = val;
    }
  }

  function updateMetaTags(lang) {
    const data = metaData[lang];
    document.title = data.title;

    setMetaTag("description", data.description, "name");
    setMetaTag("keywords", data.keywords, "name");
    setMetaTag("author", "ForgeMotion Systems", "name");

    setCanonical(data.canonical);

    setMetaTag("og:title", data.ogTitle, "property");
    setMetaTag("og:description", data.ogDescription, "property");
    setMetaTag("og:image", data.ogImage, "property");
    setMetaTag("og:url", data.canonical, "property");
    setMetaTag("og:type", "website", "property");

    setMetaTag("twitter:title", data.twitterTitle, "name");
    setMetaTag("twitter:description", data.twitterDescription, "name");
    setMetaTag("twitter:image", data.twitterImage, "name");
    setMetaTag("twitter:card", "summary_large_image", "name");
  }

  function setLanguage(lang) {
    localStorage.setItem("lang", lang);
    document.documentElement.lang = lang;
    applyTexts(lang);
    updateMetaTags(lang);
  }

  document.addEventListener("click", (e) => {
    const btn = e.target.closest("[data-lang]");
    if (!btn) return;
    setLanguage(btn.getAttribute("data-lang"));
  });

  const savedLang = localStorage.getItem("lang") || "en";
  setLanguage(savedLang);
</script>

<script>
  (function () {
    const btn = document.getElementById('mobileMenuBtn');
    const menu = document.getElementById('mobileMenu');
    if (!btn || !menu) return;

    function closeMenu() {
      menu.classList.add('hidden');
      btn.setAttribute('aria-expanded', 'false');
    }

    function toggleMenu() {
      const isOpen = !menu.classList.contains('hidden');
      if (isOpen) closeMenu();
      else {
        menu.classList.remove('hidden');
        btn.setAttribute('aria-expanded', 'true');
      }
    }

    btn.addEventListener('click', toggleMenu);

    document.querySelectorAll('.mobile-link').forEach(a => {
      a.addEventListener('click', closeMenu);
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeMenu();
    });

    window.addEventListener('resize', () => {
      if (window.innerWidth >= 768) closeMenu();
    });
  })();
</script>

<script>
  (function () {
    const modal = document.getElementById('imgModal');
    const modalImg = document.getElementById('imgModalImg');
    const closeBtn = document.getElementById('imgModalClose');

    if (!modal || !modalImg || !closeBtn) return;

    function openModal(src, alt) {
      modalImg.src = src;
      modalImg.alt = alt || "Image preview";
      modal.classList.remove('modal-hidden');
      modal.setAttribute('aria-hidden', 'false');
      closeBtn.focus();
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      modal.classList.add('modal-hidden');
      modal.setAttribute('aria-hidden', 'true');
      modalImg.src = "";
      modalImg.alt = "";
      document.body.style.overflow = '';
    }

    document.addEventListener('click', (e) => {
      const img = e.target.closest('.product-image img');
      if (!img) return;

      const full = img.getAttribute('data-full') || img.getAttribute('src');
      const alt = img.getAttribute('alt') || '';
      openModal(full, alt);
    });

    closeBtn.addEventListener('click', closeModal);

    modal.addEventListener('click', (e) => {
      if (e.target.classList.contains('modal-overlay')) closeModal();
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.getAttribute('aria-hidden') === 'false') {
        closeModal();
      }
    });
  })();
</script>

</body>
</html>
